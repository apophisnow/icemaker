:root{--bg-primary: #111827;--bg-secondary: #1f2937;--bg-tertiary: #374151;--text-primary: #f9fafb;--text-secondary: #9ca3af;--text-muted: #6b7280;--accent-blue: #3b82f6;--accent-green: #10b981;--accent-yellow: #f59e0b;--accent-red: #ef4444;--accent-cyan: #06b6d4;--border-color: #374151}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6}.dashboard{min-height:100vh;padding:1rem}.dashboard.loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-spinner{width:40px;height:40px;border:3px solid var(--bg-tertiary);border-top-color:var(--accent-blue);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.dashboard-header{display:flex;justify-content:space-between;align-items:center;padding:1rem;margin-bottom:1.5rem;background:var(--bg-secondary);border-radius:8px}.dashboard-header h1{font-size:1.5rem;font-weight:600}.header-status{display:flex;align-items:center;gap:.75rem}.unit-toggle{padding:.5rem .75rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s}.unit-toggle:hover{background:#4b5563;border-color:var(--accent-blue)}.connection-status{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.875rem}.connection-status.connected{background:#10b9811a;color:var(--accent-green)}.connection-status.disconnected{background:#ef44441a;color:var(--accent-red)}.status-dot{width:8px;height:8px;border-radius:50%;background:currentColor}.error-banner{display:flex;justify-content:space-between;align-items:center;padding:1rem;margin-bottom:1rem;background:#ef44441a;border:1px solid var(--accent-red);border-radius:8px;color:var(--accent-red)}.error-banner button{background:transparent;border:1px solid var(--accent-red);color:var(--accent-red);padding:.25rem .75rem;border-radius:4px;cursor:pointer}.dashboard-grid{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto;gap:1.5rem}.dashboard-grid section{background:var(--bg-secondary);border-radius:8px;padding:1.5rem}.dashboard-grid .diagram-section{grid-column:1 / -1}.state-display .current-state{display:flex;flex-direction:column;align-items:center;padding:1.5rem;border-radius:8px;margin-bottom:1rem}.state-display .state-label{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;opacity:.8}.state-display .state-value{font-size:2rem;font-weight:700}.state-display .chill-mode{font-size:.875rem;opacity:.8;margin-top:.25rem}.state-display .state-description{text-align:center;color:var(--text-secondary);font-size:.875rem;margin-bottom:1.5rem}.state-details{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.detail-item{display:flex;flex-direction:column;padding:.75rem;background:var(--bg-tertiary);border-radius:6px}.detail-item .label{font-size:.75rem;color:var(--text-secondary);margin-bottom:.25rem}.detail-item .value{font-size:1.25rem;font-weight:600}.detail-item .value.temp{color:var(--accent-blue)}.detail-item .value.temp.target{color:var(--accent-yellow)}.temperature-chart h3,.relay-status h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.relay-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}.relay-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:var(--bg-tertiary);border-radius:6px}.relay-indicator{width:12px;height:12px;border-radius:50%;flex-shrink:0}.relay-indicator.on{background:var(--accent-green);box-shadow:0 0 8px var(--accent-green)}.relay-indicator.off{background:var(--text-muted)}.relay-name{flex:1;font-size:.875rem}.relay-state{font-size:.75rem;font-weight:600;color:var(--text-secondary)}.relay-item.on .relay-state{color:var(--accent-green)}.controls h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.control-buttons{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.btn{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--accent-blue);color:#fff}.btn-primary:hover:not(:disabled){background:#2563eb}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary)}.btn-secondary:hover:not(:disabled){background:#4b5563}.btn-danger{background:var(--accent-red);color:#fff}.btn-danger:hover:not(:disabled){background:#dc2626}.control-info{padding:.75rem;background:var(--bg-tertiary);border-radius:6px;font-size:.875rem;color:var(--text-secondary)}.data-logger h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.logger-status{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem;padding:.75rem;background:var(--bg-tertiary);border-radius:6px}.logger-indicator{width:10px;height:10px;border-radius:50%;background:var(--text-muted);flex-shrink:0}.logger-indicator.recording{background:var(--accent-red);box-shadow:0 0 8px var(--accent-red);animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.logger-text{font-size:.875rem;font-weight:500}.entry-count{margin-left:auto;font-size:.75rem;color:var(--text-secondary);background:var(--bg-primary);padding:.25rem .5rem;border-radius:4px}.logger-controls{display:flex;gap:.5rem;margin-bottom:1rem}.logger-controls .btn{flex:1;padding:.5rem;font-size:.875rem}.logger-info{font-size:.75rem;color:var(--text-secondary)}.configuration{width:100%}.config-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding-bottom:.5rem}.config-header h3{margin:0;font-size:1rem;font-weight:600}.config-toggle{background:none;border:none;color:var(--text-secondary);font-size:.75rem;cursor:pointer;padding:.25rem .5rem}.config-loading{padding:1rem;text-align:center;color:var(--text-secondary)}.config-error{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;margin-bottom:1rem;background:#ef44441a;border:1px solid var(--accent-red);border-radius:6px;color:var(--accent-red);font-size:.875rem}.config-error button{background:transparent;border:none;color:var(--accent-red);font-size:1.25rem;cursor:pointer;padding:0;line-height:1}.config-section{margin-bottom:1.5rem}.config-section h4{font-size:.875rem;font-weight:600;color:var(--text-secondary);margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em}.config-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}.config-field{display:flex;flex-direction:column;gap:.25rem}.config-label{font-size:.75rem;color:var(--text-secondary)}.config-input-group{display:flex;align-items:center;background:var(--bg-tertiary);border-radius:6px;overflow:hidden}.config-input{flex:1;padding:.5rem .75rem;background:transparent;border:none;color:var(--text-primary);font-size:.875rem;font-family:inherit;min-width:0}.config-input:focus{outline:none}.config-input:disabled{opacity:.5}.config-input::-webkit-inner-spin-button,.config-input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.config-input[type=number]{-moz-appearance:textfield}.config-unit{padding:.5rem .75rem;background:var(--bg-primary);color:var(--text-muted);font-size:.75rem;font-weight:500;flex-shrink:0}.config-info{margin-top:.75rem;padding:.75rem;background:var(--bg-tertiary);border-radius:6px;font-size:.875rem;display:flex;justify-content:space-between;align-items:center}.config-simulator-label{color:var(--text-secondary)}.config-simulator-value{font-weight:600}.config-simulator-value.enabled{color:var(--accent-yellow)}.config-simulator-value.disabled{color:var(--text-muted)}.config-actions{display:flex;gap:.75rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.config-actions .btn{flex:1;padding:.5rem 1rem;font-size:.875rem}.config-speed-control{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.speed-buttons{display:flex;gap:.25rem}.speed-btn{padding:.375rem .625rem;font-size:.75rem;font-weight:500;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .15s ease}.speed-btn:hover{background:var(--bg-primary);color:var(--text-primary)}.speed-btn.active{background:var(--accent-blue);border-color:var(--accent-blue);color:#fff}.btn-sm{padding:.375rem .75rem;font-size:.75rem}.system-diagram{width:100%}.system-diagram h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.diagram-container{display:grid;grid-template-columns:1fr auto 1fr;grid-template-rows:auto auto auto;gap:.75rem;padding:1rem;background:var(--bg-primary);border-radius:8px;border:1px solid var(--border-color)}.diagram-section{padding:1rem;background:var(--bg-tertiary);border-radius:8px;display:flex;flex-direction:column;gap:.75rem}.diagram-section.refrigeration{grid-column:1;grid-row:1}.diagram-section.ice-making{grid-column:3;grid-row:1}.diagram-section.ice-bin{grid-column:3;grid-row:3}.diagram-section.status{grid-column:1;grid-row:2 / 4}.section-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--text-muted);padding-bottom:.5rem;border-bottom:1px solid var(--border-color);margin-bottom:.5rem}.component-row{display:flex;gap:.5rem}.diagram-component{flex:1;display:flex;align-items:center;gap:.5rem;padding:.5rem;background:var(--bg-secondary);border-radius:6px;border:2px solid transparent;position:relative;overflow:hidden;transition:all .3s ease}.diagram-component.active{border-color:var(--accent-green);box-shadow:0 0 10px #10b9814d}.diagram-component.active.heating{border-color:var(--accent-red);box-shadow:0 0 10px #ef44444d}.diagram-component.inactive{opacity:.6}.component-icon{font-size:1.25rem;flex-shrink:0}.component-info{display:flex;flex-direction:column;min-width:0}.component-name{font-size:.7rem;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.component-status{font-size:.65rem;font-weight:700}.component-status.on{color:var(--accent-green)}.component-status.off{color:var(--text-muted)}.activity-pulse{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(16,185,129,.1),transparent);animation:pulse-sweep 2s ease-in-out infinite}.diagram-component.heating .activity-pulse{background:linear-gradient(90deg,transparent,rgba(239,68,68,.1),transparent)}@keyframes pulse-sweep{0%{transform:translate(-100%)}to{transform:translate(100%)}}.flow-indicator{display:flex;align-items:center;justify-content:center;grid-column:2;grid-row:1;align-self:center}.flow-line{padding:.25rem .5rem;font-size:.65rem;font-weight:600;color:var(--text-muted);background:var(--bg-secondary);border-radius:4px;white-space:nowrap}.flow-line.active{color:var(--accent-cyan);background:#06b6d41a;animation:flow-pulse 1.5s ease-in-out infinite}@keyframes flow-pulse{0%,to{opacity:1}50%{opacity:.6}}.evaporator-plate{display:flex;justify-content:center}.plate-visual{display:flex;flex-direction:column;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--border-color);min-width:100px;transition:all .3s ease;position:relative}.plate-visual.cooling{border-color:var(--accent-cyan);box-shadow:0 0 15px #06b6d44d;background:linear-gradient(180deg,var(--bg-secondary),rgba(6,182,212,.1))}.plate-visual.heating{border-color:var(--accent-red);box-shadow:0 0 15px #ef44444d;background:linear-gradient(180deg,var(--bg-secondary),rgba(239,68,68,.1))}.plate-icon{font-size:1.5rem;margin-bottom:.25rem}.plate-visual.heating .plate-icon:after{content:"ðŸ”¥";margin-left:.25rem}.plate-label{font-size:.7rem;color:var(--text-secondary)}.plate-temp{font-size:1rem;font-weight:700;color:var(--accent-cyan);margin-top:.25rem}.plate-visual.heating .plate-temp{color:var(--accent-red)}.reservoir{display:flex;justify-content:center}.reservoir-visual{display:flex;flex-direction:column;align-items:center;padding:.75rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--accent-blue);min-width:80px;position:relative;overflow:hidden}.reservoir-visual.filling{animation:fill-pulse 1s ease-in-out infinite}@keyframes fill-pulse{0%,to{border-color:var(--accent-blue)}50%{border-color:var(--accent-cyan);box-shadow:0 0 10px #06b6d44d}}.water-level{position:absolute;bottom:0;left:0;right:0;height:60%;background:linear-gradient(180deg,#3b82f633,#3b82f666);border-radius:0 0 6px 6px}.reservoir-label{font-size:.7rem;color:var(--text-secondary);position:relative;z-index:1}.reservoir-temp{font-size:.85rem;font-weight:600;color:var(--accent-blue);position:relative;z-index:1}.water-flow-indicator{display:flex;justify-content:center;height:24px;opacity:0;transition:opacity .3s ease}.water-flow-indicator.flowing{opacity:1}.water-droplets{display:flex;flex-direction:column;align-items:center;gap:2px}.water-droplets .droplet{font-size:.6rem;opacity:0;animation:none}.water-flow-indicator.flowing .droplet{animation:droplet-fall 1s ease-in infinite}.water-flow-indicator.flowing .droplet:nth-child(1){animation-delay:0s}.water-flow-indicator.flowing .droplet:nth-child(2){animation-delay:.33s}.water-flow-indicator.flowing .droplet:nth-child(3){animation-delay:.66s}@keyframes droplet-fall{0%{opacity:1;transform:translateY(-8px)}to{opacity:0;transform:translateY(8px)}}.evaporator-assembly{display:flex;flex-direction:column;align-items:center;gap:4px}.ice-formation{position:absolute;top:-8px;left:50%;transform:translate(-50%);opacity:0;transition:opacity .5s ease,transform .5s ease}.ice-formation.forming{opacity:1;animation:ice-grow 2s ease-in-out infinite}.ice-formation.releasing{opacity:1;animation:ice-release 1s ease-out forwards}.ice-block{font-size:1.2rem;filter:drop-shadow(0 0 4px rgba(6,182,212,.5))}@keyframes ice-grow{0%,to{transform:translate(-50%) scale(.8);opacity:.6}50%{transform:translate(-50%) scale(1.1);opacity:1}}@keyframes ice-release{0%{transform:translate(-50%) translateY(0);opacity:1}to{transform:translate(-50%) translateY(20px);opacity:0}}.wire-cutter-grid{display:flex;flex-direction:column;align-items:center;padding:.5rem;background:var(--bg-secondary);border-radius:4px;border:1px solid var(--border-color);min-width:100px;transition:all .3s ease}.wire-cutter-grid.active{border-color:var(--accent-red);box-shadow:0 0 10px #ef44444d}.wire-row{display:flex;gap:6px;padding:4px 8px}.wire{width:2px;height:16px;background:#444;border-radius:1px;transition:all .3s ease}.wire-cutter-grid.active .wire{background:linear-gradient(180deg,#ff6b6b,#ff8c42,#ff6b6b);box-shadow:0 0 6px #ff6b6bcc,0 0 12px #ff8c4280;animation:wire-glow 1s ease-in-out infinite alternate}@keyframes wire-glow{0%{box-shadow:0 0 4px #ff6b6b99,0 0 8px #ff8c4266}to{box-shadow:0 0 8px #ff6b6b,0 0 16px #ff8c42cc}}.cutter-label{font-size:.6rem;color:var(--text-muted);margin-top:4px}.wire-cutter-grid.active .cutter-label{color:var(--accent-red)}.ice-drop-zone{grid-column:3;grid-row:2;display:flex;justify-content:center;align-items:center;height:40px;overflow:hidden}.falling-ice{display:flex;gap:8px;opacity:0}.ice-drop-zone.dropping .falling-ice{opacity:1}.ice-cube{font-size:.8rem;opacity:0}.ice-drop-zone.dropping .ice-cube{animation:ice-fall 1.5s ease-in infinite}.ice-drop-zone.dropping .ice-cube:nth-child(1){animation-delay:0s}.ice-drop-zone.dropping .ice-cube:nth-child(2){animation-delay:.3s}.ice-drop-zone.dropping .ice-cube:nth-child(3){animation-delay:.6s}@keyframes ice-fall{0%{opacity:1;transform:translateY(-20px) rotate(0)}to{opacity:0;transform:translateY(30px) rotate(45deg)}}.ice-bin-visual{display:flex;justify-content:center}.bin-container{display:flex;flex-direction:column;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--accent-cyan);min-width:100px;position:relative;overflow:hidden}.ice-pile{display:flex;gap:2px;margin-bottom:.25rem}.bin-ice{font-size:1rem}.bin-label{font-size:.7rem;color:var(--text-secondary)}.bin-temp{font-size:1rem;font-weight:700;color:var(--accent-cyan);margin-top:.25rem}.current-mode{text-align:center;font-size:.85rem;color:var(--text-secondary);padding:.5rem;background:var(--bg-secondary);border-radius:6px}.current-mode strong{color:var(--accent-yellow)}.diagram-legend{display:flex;justify-content:center;gap:1.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.legend-item{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:var(--text-secondary)}.legend-indicator{width:12px;height:12px;border-radius:3px}.legend-indicator.active{background:var(--accent-green);box-shadow:0 0 6px var(--accent-green)}.legend-indicator.inactive{background:var(--text-muted)}.legend-indicator.heating{background:var(--accent-red);box-shadow:0 0 6px var(--accent-red)}.legend-indicator.cooling{background:var(--accent-cyan);box-shadow:0 0 6px var(--accent-cyan)}@media (max-width: 768px){.dashboard-grid{grid-template-columns:1fr}.state-details{grid-template-columns:repeat(2,1fr)}.relay-grid,.config-grid{grid-template-columns:1fr}.diagram-container{grid-template-columns:1fr;grid-template-rows:auto}.diagram-section.refrigeration,.diagram-section.ice-making,.diagram-section.ice-bin,.diagram-section.status,.flow-indicator,.flow-indicator.vertical,.ice-drop-zone{grid-column:1;grid-row:auto}.diagram-legend{flex-wrap:wrap;gap:1rem}}
