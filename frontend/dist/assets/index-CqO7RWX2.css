:root{--bg-primary: #111827;--bg-secondary: #1f2937;--bg-tertiary: #374151;--text-primary: #f9fafb;--text-secondary: #9ca3af;--text-muted: #6b7280;--accent-blue: #3b82f6;--accent-green: #10b981;--accent-yellow: #f59e0b;--accent-red: #ef4444;--accent-cyan: #06b6d4;--border-color: #374151}*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background-color:var(--bg-primary);color:var(--text-primary);line-height:1.6}.dashboard{display:flex;flex-direction:column;min-height:100vh;height:100vh;padding:1rem;overflow:auto;box-sizing:border-box}.dashboard.loading-state{display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-spinner{width:40px;height:40px;border:3px solid var(--bg-tertiary);border-top-color:var(--accent-blue);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.dashboard-header{display:flex;justify-content:space-between;align-items:center;padding:1rem;margin-bottom:1rem;background:var(--bg-secondary);border-radius:8px;flex-shrink:0}.dashboard-header h1{font-size:1.5rem;font-weight:600}.header-status{display:flex;align-items:center;gap:.75rem}.unit-toggle{padding:.5rem .75rem;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:.875rem;font-weight:600;cursor:pointer;transition:all .2s}.unit-toggle:hover{background:#4b5563;border-color:var(--accent-blue)}.connection-status{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.875rem}.connection-status.connected{background:#10b9811a;color:var(--accent-green)}.connection-status.disconnected{background:#ef44441a;color:var(--accent-red)}.status-dot{width:8px;height:8px;border-radius:50%;background:currentColor}.error-banner{display:flex;justify-content:space-between;align-items:center;padding:1rem;margin-bottom:1rem;background:#ef44441a;border:1px solid var(--accent-red);border-radius:8px;color:var(--accent-red);flex-shrink:0}.error-banner button{background:transparent;border:1px solid var(--accent-red);color:var(--accent-red);padding:.25rem .75rem;border-radius:4px;cursor:pointer}.state-display .current-state{display:flex;flex-direction:column;align-items:center;padding:1.5rem;border-radius:8px;margin-bottom:1rem}.state-display .state-label{font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;opacity:.8}.state-display .state-value{font-size:2rem;font-weight:700}.state-display .chill-mode{font-size:.875rem;opacity:.8;margin-top:.25rem}.state-display .state-description{text-align:center;color:var(--text-secondary);font-size:.875rem;margin-bottom:1.5rem}.state-details{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.detail-item{display:flex;flex-direction:column;padding:.75rem;background:var(--bg-tertiary);border-radius:6px}.detail-item .label{font-size:.75rem;color:var(--text-secondary);margin-bottom:.25rem}.detail-item .value{font-size:1.25rem;font-weight:600}.detail-item .value.temp{color:var(--accent-blue)}.detail-item .value.temp.target{color:var(--accent-yellow)}.temperature-chart h3,.relay-status h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.relay-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}.relay-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:var(--bg-tertiary);border-radius:6px}.relay-indicator{width:12px;height:12px;border-radius:50%;flex-shrink:0}.relay-indicator.on{background:var(--accent-green);box-shadow:0 0 8px var(--accent-green)}.relay-indicator.off{background:var(--text-muted)}.relay-name{flex:1;font-size:.875rem}.relay-state{font-size:.75rem;font-weight:600;color:var(--text-secondary)}.relay-item.on .relay-state{color:var(--accent-green)}.controls h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.control-buttons{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1rem}.btn{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s}.btn:disabled{opacity:.5;cursor:not-allowed}.btn-primary{background:var(--accent-blue);color:#fff}.btn-primary:hover:not(:disabled){background:#2563eb}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary)}.btn-secondary:hover:not(:disabled){background:#4b5563}.btn-danger{background:var(--accent-red);color:#fff}.btn-danger:hover:not(:disabled){background:#dc2626}.control-info{padding:.75rem;background:var(--bg-tertiary);border-radius:6px;font-size:.875rem;color:var(--text-secondary)}.data-logger .logger-header{display:flex;justify-content:space-between;align-items:center;width:100%;padding:0;background:transparent;border:none;color:var(--text-primary);cursor:pointer;font-size:.85rem;font-weight:600}.data-logger .logger-title{display:flex;align-items:center;gap:.5rem}.data-logger .logger-indicator{width:8px;height:8px;border-radius:50%;background:var(--text-muted);flex-shrink:0}.data-logger .logger-indicator.recording{background:var(--accent-red);box-shadow:0 0 6px var(--accent-red);animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.data-logger .entry-count{font-size:.65rem;font-weight:500;color:var(--text-secondary);background:var(--bg-primary);padding:.15rem .4rem;border-radius:4px}.data-logger .expand-icon{font-size:.6rem;color:var(--text-muted);transition:transform .2s ease}.data-logger .expand-icon.open{transform:rotate(180deg)}.data-logger .logger-content{margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--border-color)}.data-logger .logger-status{font-size:.75rem;color:var(--text-secondary);margin-bottom:.5rem}.data-logger .logger-controls{display:flex;gap:.5rem}.data-logger .logger-controls .btn{flex:1;padding:.4rem .5rem;font-size:.75rem}.configuration{width:100%}.config-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding-bottom:.5rem}.config-header h3{margin:0;font-size:1rem;font-weight:600}.config-toggle{background:none;border:none;color:var(--text-secondary);font-size:.75rem;cursor:pointer;padding:.25rem .5rem}.config-loading{padding:1rem;text-align:center;color:var(--text-secondary)}.config-error{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;margin-bottom:1rem;background:#ef44441a;border:1px solid var(--accent-red);border-radius:6px;color:var(--accent-red);font-size:.875rem}.config-error button{background:transparent;border:none;color:var(--accent-red);font-size:1.25rem;cursor:pointer;padding:0;line-height:1}.config-section{margin-bottom:1.5rem}.config-section h4{font-size:.875rem;font-weight:600;color:var(--text-secondary);margin-bottom:.75rem;text-transform:uppercase;letter-spacing:.05em}.config-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}.config-field{display:flex;flex-direction:column;gap:.25rem}.config-label{font-size:.75rem;color:var(--text-secondary)}.config-input-group{display:flex;align-items:center;background:var(--bg-tertiary);border-radius:6px;overflow:hidden}.config-input{flex:1;padding:.5rem .75rem;background:transparent;border:none;color:var(--text-primary);font-size:.875rem;font-family:inherit;min-width:0}.config-input:focus{outline:none}.config-input:disabled{opacity:.5}.config-input::-webkit-inner-spin-button,.config-input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.config-input[type=number]{-moz-appearance:textfield}.config-unit{padding:.5rem .75rem;background:var(--bg-primary);color:var(--text-muted);font-size:.75rem;font-weight:500;flex-shrink:0}.config-info{margin-top:.75rem;padding:.75rem;background:var(--bg-tertiary);border-radius:6px;font-size:.875rem;display:flex;justify-content:space-between;align-items:center}.config-simulator-label{color:var(--text-secondary)}.config-simulator-value{font-weight:600}.config-simulator-value.enabled{color:var(--accent-yellow)}.config-simulator-value.disabled{color:var(--text-muted)}.config-actions{display:flex;gap:.75rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.config-actions .btn{flex:1;padding:.5rem 1rem;font-size:.875rem}.config-speed-control{display:flex;align-items:center;gap:.75rem;flex-wrap:wrap}.speed-buttons{display:flex;gap:.25rem}.speed-btn{padding:.375rem .625rem;font-size:.75rem;font-weight:500;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .15s ease}.speed-btn:hover{background:var(--bg-primary);color:var(--text-primary)}.speed-btn.active{background:var(--accent-blue);border-color:var(--accent-blue);color:#fff}.btn-sm{padding:.375rem .75rem;font-size:.75rem}.system-diagram{width:100%}.system-diagram h3{margin-bottom:1rem;font-size:1rem;font-weight:600}.diagram-container{display:grid;grid-template-columns:1fr auto 1fr;grid-template-rows:auto auto auto;gap:.75rem;padding:1rem;background:var(--bg-primary);border-radius:8px;border:1px solid var(--border-color)}.diagram-section{padding:1rem;background:var(--bg-tertiary);border-radius:8px;display:flex;flex-direction:column;gap:.75rem}.diagram-section.refrigeration{grid-column:1;grid-row:1}.diagram-section.ice-making{grid-column:3;grid-row:1}.diagram-section.ice-bin{grid-column:3;grid-row:3}.diagram-section.status{grid-column:1;grid-row:2 / 4}.section-label{font-size:.7rem;text-transform:uppercase;letter-spacing:.1em;color:var(--text-muted);padding-bottom:.5rem;border-bottom:1px solid var(--border-color);margin-bottom:.5rem}.component-row{display:flex;gap:.5rem}.diagram-component{flex:1;display:flex;align-items:center;gap:.5rem;padding:.5rem;background:var(--bg-secondary);border-radius:6px;border:2px solid transparent;position:relative;overflow:hidden;transition:all .3s ease}.diagram-component.active{border-color:var(--accent-green);box-shadow:0 0 10px #10b9814d}.diagram-component.active.heating{border-color:var(--accent-red);box-shadow:0 0 10px #ef44444d}.diagram-component.inactive{opacity:.6}.component-icon{font-size:1.25rem;flex-shrink:0}.component-info{display:flex;flex-direction:column;min-width:0}.component-name{font-size:.7rem;color:var(--text-secondary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.component-status{font-size:.65rem;font-weight:700}.component-status.on{color:var(--accent-green)}.component-status.off{color:var(--text-muted)}.activity-pulse{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,transparent,rgba(16,185,129,.1),transparent);animation:pulse-sweep 2s ease-in-out infinite}.diagram-component.heating .activity-pulse{background:linear-gradient(90deg,transparent,rgba(239,68,68,.1),transparent)}@keyframes pulse-sweep{0%{transform:translate(-100%)}to{transform:translate(100%)}}.flow-indicator{display:flex;align-items:center;justify-content:center;grid-column:2;grid-row:1;align-self:center}.flow-line{padding:.25rem .5rem;font-size:.65rem;font-weight:600;color:var(--text-muted);background:var(--bg-secondary);border-radius:4px;white-space:nowrap}.flow-line.active{color:var(--accent-cyan);background:#06b6d41a;animation:flow-pulse 1.5s ease-in-out infinite}@keyframes flow-pulse{0%,to{opacity:1}50%{opacity:.6}}.evaporator-plate{display:flex;justify-content:center}.plate-visual{display:flex;flex-direction:column;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--border-color);min-width:100px;transition:all .3s ease;position:relative}.plate-visual.cooling{border-color:var(--accent-cyan);box-shadow:0 0 15px #06b6d44d;background:linear-gradient(180deg,var(--bg-secondary),rgba(6,182,212,.1))}.plate-visual.heating{border-color:var(--accent-red);box-shadow:0 0 15px #ef44444d;background:linear-gradient(180deg,var(--bg-secondary),rgba(239,68,68,.1))}.plate-icon{font-size:1.5rem;margin-bottom:.25rem}.plate-visual.heating .plate-icon:after{content:"ðŸ”¥";margin-left:.25rem}.plate-label{font-size:.7rem;color:var(--text-secondary)}.plate-temp{font-size:1rem;font-weight:700;color:var(--accent-cyan);margin-top:.25rem}.plate-visual.heating .plate-temp{color:var(--accent-red)}.reservoir{display:flex;justify-content:center}.reservoir-visual{display:flex;flex-direction:column;align-items:center;padding:.75rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--accent-blue);min-width:80px;position:relative;overflow:hidden}.reservoir-visual.filling{animation:fill-pulse 1s ease-in-out infinite}@keyframes fill-pulse{0%,to{border-color:var(--accent-blue)}50%{border-color:var(--accent-cyan);box-shadow:0 0 10px #06b6d44d}}.water-level{position:absolute;bottom:0;left:0;right:0;height:60%;background:linear-gradient(180deg,#3b82f633,#3b82f666);border-radius:0 0 6px 6px}.reservoir-label{font-size:.7rem;color:var(--text-secondary);position:relative;z-index:1}.reservoir-temp{font-size:.85rem;font-weight:600;color:var(--accent-blue);position:relative;z-index:1}.water-flow-indicator{display:flex;justify-content:center;height:24px;opacity:0;transition:opacity .3s ease}.water-flow-indicator.flowing{opacity:1}.water-droplets{display:flex;flex-direction:column;align-items:center;gap:2px}.water-droplets .droplet{font-size:.6rem;opacity:0;animation:none}.water-flow-indicator.flowing .droplet{animation:droplet-fall 1s ease-in infinite}.water-flow-indicator.flowing .droplet:nth-child(1){animation-delay:0s}.water-flow-indicator.flowing .droplet:nth-child(2){animation-delay:.33s}.water-flow-indicator.flowing .droplet:nth-child(3){animation-delay:.66s}@keyframes droplet-fall{0%{opacity:1;transform:translateY(-8px)}to{opacity:0;transform:translateY(8px)}}.evaporator-assembly{display:flex;flex-direction:column;align-items:center;gap:4px}.ice-formation{position:absolute;top:-8px;left:50%;transform:translate(-50%);opacity:0;transition:opacity .5s ease,transform .5s ease}.ice-formation.forming{opacity:1;animation:ice-grow 2s ease-in-out infinite}.ice-formation.releasing{opacity:1;animation:ice-release 1s ease-out forwards}.ice-block{font-size:1.2rem;filter:drop-shadow(0 0 4px rgba(6,182,212,.5))}@keyframes ice-grow{0%,to{transform:translate(-50%) scale(.8);opacity:.6}50%{transform:translate(-50%) scale(1.1);opacity:1}}@keyframes ice-release{0%{transform:translate(-50%) translateY(0);opacity:1}to{transform:translate(-50%) translateY(20px);opacity:0}}.wire-cutter-grid{display:flex;flex-direction:column;align-items:center;padding:.5rem;background:var(--bg-secondary);border-radius:4px;border:1px solid var(--border-color);min-width:100px;transition:all .3s ease}.wire-cutter-grid.active{border-color:var(--accent-red);box-shadow:0 0 10px #ef44444d}.wire-row{display:flex;gap:6px;padding:4px 8px}.wire{width:2px;height:16px;background:#444;border-radius:1px;transition:all .3s ease}.wire-cutter-grid.active .wire{background:linear-gradient(180deg,#ff6b6b,#ff8c42,#ff6b6b);box-shadow:0 0 6px #ff6b6bcc,0 0 12px #ff8c4280;animation:wire-glow 1s ease-in-out infinite alternate}@keyframes wire-glow{0%{box-shadow:0 0 4px #ff6b6b99,0 0 8px #ff8c4266}to{box-shadow:0 0 8px #ff6b6b,0 0 16px #ff8c42cc}}.cutter-label{font-size:.6rem;color:var(--text-muted);margin-top:4px}.wire-cutter-grid.active .cutter-label{color:var(--accent-red)}.ice-drop-zone{grid-column:3;grid-row:2;display:flex;justify-content:center;align-items:center;height:40px;overflow:hidden}.falling-ice{display:flex;gap:8px;opacity:0}.ice-drop-zone.dropping .falling-ice{opacity:1}.ice-cube{font-size:.8rem;opacity:0}.ice-drop-zone.dropping .ice-cube{animation:ice-fall 1.5s ease-in infinite}.ice-drop-zone.dropping .ice-cube:nth-child(1){animation-delay:0s}.ice-drop-zone.dropping .ice-cube:nth-child(2){animation-delay:.3s}.ice-drop-zone.dropping .ice-cube:nth-child(3){animation-delay:.6s}@keyframes ice-fall{0%{opacity:1;transform:translateY(-20px) rotate(0)}to{opacity:0;transform:translateY(30px) rotate(45deg)}}.ice-bin-visual{display:flex;justify-content:center}.bin-container{display:flex;flex-direction:column;align-items:center;padding:1rem;background:var(--bg-secondary);border-radius:8px;border:2px solid var(--accent-cyan);min-width:100px;position:relative;overflow:hidden}.ice-pile{display:flex;gap:2px;margin-bottom:.25rem}.bin-ice{font-size:1rem}.bin-label{font-size:.7rem;color:var(--text-secondary)}.bin-temp{font-size:1rem;font-weight:700;color:var(--accent-cyan);margin-top:.25rem}.current-mode{text-align:center;font-size:.85rem;color:var(--text-secondary);padding:.5rem;background:var(--bg-secondary);border-radius:6px}.current-mode strong{color:var(--accent-yellow)}.diagram-legend{display:flex;justify-content:center;gap:1.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.legend-item{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:var(--text-secondary)}.legend-indicator{width:12px;height:12px;border-radius:3px}.legend-indicator.active{background:var(--accent-green);box-shadow:0 0 6px var(--accent-green)}.legend-indicator.inactive{background:var(--text-muted)}.legend-indicator.heating{background:var(--accent-red);box-shadow:0 0 6px var(--accent-red)}.legend-indicator.cooling{background:var(--accent-cyan);box-shadow:0 0 6px var(--accent-cyan)}.system-diagram-compact{background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);overflow:hidden;max-width:280px}.system-diagram-compact .diagram-header{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);font-size:.8rem;font-weight:600}.system-diagram-compact .state-badge{padding:.15rem .5rem;border-radius:4px;font-size:.65rem;font-weight:700;text-transform:uppercase;background:var(--bg-secondary);color:var(--text-muted)}.system-diagram-compact .state-badge.chill{background:var(--accent-cyan);color:#fff}.system-diagram-compact .state-badge.ice{background:var(--accent-blue);color:#fff}.system-diagram-compact .state-badge.heat{background:var(--accent-red);color:#fff}.system-diagram-compact .state-badge.idle{background:var(--accent-yellow);color:#000}.system-diagram-compact .state-badge.standby{background:var(--text-muted);color:#fff}.system-diagram-compact .state-badge.off{background:#333;color:#666}.system-diagram-compact .diagram-body{padding:.75rem;display:flex;flex-direction:column;gap:.75rem}.system-diagram-compact .component-group{display:flex;flex-direction:column;gap:.35rem}.system-diagram-compact .group-label{font-size:.6rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted)}.system-diagram-compact .component-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.35rem}.system-diagram-compact .indicator{display:flex;align-items:center;gap:.3rem;padding:.3rem .4rem;background:var(--bg-primary);border-radius:4px;border:1px solid var(--border-color);transition:all .2s ease}.system-diagram-compact .indicator.active{border-color:var(--accent-green);background:#10b9811a}.system-diagram-compact .indicator.active.cool{border-color:var(--accent-cyan);background:#06b6d41a}.system-diagram-compact .indicator.active.heat{border-color:var(--accent-red);background:#ef44441a}.system-diagram-compact .indicator.active.water{border-color:var(--accent-blue);background:#3b82f61a}.system-diagram-compact .indicator-dot{width:6px;height:6px;border-radius:50%;background:var(--text-muted);flex-shrink:0}.system-diagram-compact .indicator.active .indicator-dot{background:var(--accent-green);box-shadow:0 0 4px var(--accent-green)}.system-diagram-compact .indicator.active.cool .indicator-dot{background:var(--accent-cyan);box-shadow:0 0 4px var(--accent-cyan)}.system-diagram-compact .indicator.active.heat .indicator-dot{background:var(--accent-red);box-shadow:0 0 4px var(--accent-red)}.system-diagram-compact .indicator.active.water .indicator-dot{background:var(--accent-blue);box-shadow:0 0 4px var(--accent-blue)}.system-diagram-compact .indicator-label{font-size:.6rem;color:var(--text-secondary);white-space:nowrap}.system-diagram-compact .indicator.active .indicator-label{color:var(--text-primary)}.system-diagram-compact .temp-row{display:flex;gap:.5rem}.system-diagram-compact .temp-box{flex:1;display:flex;flex-direction:column;align-items:center;padding:.4rem;background:var(--bg-primary);border-radius:4px;border:1px solid var(--border-color)}.system-diagram-compact .temp-box.cooling{border-color:var(--accent-cyan);background:#06b6d41a}.system-diagram-compact .temp-box.heating{border-color:var(--accent-red);background:#ef44441a}.system-diagram-compact .temp-box.water{border-color:var(--accent-blue);background:#3b82f60d}.system-diagram-compact .temp-label{font-size:.55rem;text-transform:uppercase;color:var(--text-muted)}.system-diagram-compact .temp-value{font-size:.85rem;font-weight:700;color:var(--text-primary)}.system-diagram-compact .temp-box.cooling .temp-value{color:var(--accent-cyan)}.system-diagram-compact .temp-box.heating .temp-value{color:var(--accent-red)}.system-diagram-compact .visual-row{display:flex;justify-content:center;align-items:center;gap:1rem;padding:.5rem;background:var(--bg-primary);border-radius:4px}.system-diagram-compact .plate-icon-compact{font-size:1.5rem;transition:all .3s ease}.system-diagram-compact .plate-icon-compact.cooling{filter:drop-shadow(0 0 6px var(--accent-cyan))}.system-diagram-compact .plate-icon-compact.heating{filter:drop-shadow(0 0 6px var(--accent-red))}.system-diagram-compact .flow-arrow{font-size:1.2rem;color:var(--text-muted);transition:all .3s ease}.system-diagram-compact .flow-arrow.active{color:var(--accent-blue);animation:flow-bounce 1s ease-in-out infinite}@keyframes flow-bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-3px)}}.system-diagram-compact .bin-icon-compact{font-size:1.5rem}.system-diagram-compact .loading{padding:2rem;text-align:center;color:var(--text-muted)}.dashboard-grid{display:grid;grid-template-columns:300px 1fr;gap:1rem;flex:1;min-height:0}.dashboard-grid>.main-panel{grid-column:1;grid-row:1}.dashboard-grid>.chart-card{grid-column:2;grid-row:1;background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);padding:1rem;min-width:0;display:flex;flex-direction:column}.chart-card .temperature-chart{flex:1;display:flex;flex-direction:column;min-height:300px}.chart-card .temperature-chart h3{flex-shrink:0;margin-bottom:.5rem}.chart-card .temperature-chart .recharts-responsive-container{flex:1}.header-actions{display:flex;align-items:center;gap:.5rem}.header-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);font-size:1rem;cursor:pointer;transition:all .2s}.header-btn:hover{background:#4b5563;border-color:var(--accent-blue)}.header-btn.settings-btn{font-size:1.5rem}.main-panel{background:var(--bg-secondary);border-radius:8px;border:1px solid var(--border-color);overflow:hidden}.main-panel .panel-header{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);font-weight:600}.main-panel .state-badge{padding:.25rem .75rem;border-radius:4px;font-size:.7rem;font-weight:700;text-transform:uppercase;background:var(--bg-secondary);color:var(--text-muted)}.main-panel .state-badge.chill{background:var(--accent-cyan);color:#fff}.main-panel .state-badge.ice{background:var(--accent-blue);color:#fff}.main-panel .state-badge.heat{background:var(--accent-red);color:#fff}.main-panel .state-badge.idle{background:var(--accent-yellow);color:#000}.main-panel .state-badge.standby{background:var(--text-muted);color:#fff}.main-panel .state-badge.off{background:#333;color:#666}.main-panel .state-badge.power_on{background:var(--accent-yellow);color:#000}.main-panel .state-badge.error{background:var(--accent-red);color:#fff}.main-panel .panel-body{padding:.75rem;display:flex;flex-direction:column;gap:.75rem}.main-panel .status-row{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;background:var(--bg-primary);border-radius:6px}.main-panel .status-description{font-size:.8rem;color:var(--text-secondary)}.main-panel .status-time{font-size:.9rem;font-weight:600;font-family:monospace;color:var(--text-primary)}.main-panel .stats-row{display:flex;gap:.5rem}.main-panel .stat-item{flex:1;display:flex;flex-direction:column;align-items:center;padding:.5rem;background:var(--bg-primary);border-radius:6px}.main-panel .stat-label{font-size:.6rem;text-transform:uppercase;color:var(--text-muted)}.main-panel .stat-value{font-size:1.25rem;font-weight:700;color:var(--text-primary)}.main-panel .temp-row{display:flex;gap:.5rem}.main-panel .temp-box{flex:1;display:flex;flex-direction:column;align-items:center;padding:.5rem;background:var(--bg-primary);border-radius:6px;border:1px solid var(--border-color)}.main-panel .temp-box.cooling{border-color:var(--accent-cyan);background:#06b6d41a}.main-panel .temp-box.heating{border-color:var(--accent-red);background:#ef44441a}.main-panel .temp-box.water{border-color:var(--accent-blue);background:#3b82f60d}.main-panel .temp-box.target{border-color:var(--accent-yellow);background:#f59e0b1a}.main-panel .temp-label{font-size:.55rem;text-transform:uppercase;color:var(--text-muted)}.main-panel .temp-value{font-size:.9rem;font-weight:700;color:var(--text-primary)}.main-panel .temp-box.cooling .temp-value{color:var(--accent-cyan)}.main-panel .temp-box.heating .temp-value{color:var(--accent-red)}.main-panel .temp-box.target .temp-value{color:var(--accent-yellow)}.main-panel .component-group{display:flex;flex-direction:column;gap:.35rem}.main-panel .group-label{font-size:.6rem;text-transform:uppercase;letter-spacing:.05em;color:var(--text-muted)}.main-panel .component-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.35rem}.main-panel .indicator{display:flex;align-items:center;gap:.3rem;padding:.3rem .4rem;background:var(--bg-primary);border-radius:4px;border:1px solid var(--border-color);transition:all .2s ease}.main-panel .indicator.active{border-color:var(--accent-green);background:#10b9811a}.main-panel .indicator.active.cool{border-color:var(--accent-cyan);background:#06b6d41a}.main-panel .indicator.active.heat{border-color:var(--accent-red);background:#ef44441a}.main-panel .indicator.active.water{border-color:var(--accent-blue);background:#3b82f61a}.main-panel .indicator-dot{width:6px;height:6px;border-radius:50%;background:var(--text-muted);flex-shrink:0}.main-panel .indicator.active .indicator-dot{background:var(--accent-green);box-shadow:0 0 4px var(--accent-green)}.main-panel .indicator.active.cool .indicator-dot{background:var(--accent-cyan);box-shadow:0 0 4px var(--accent-cyan)}.main-panel .indicator.active.heat .indicator-dot{background:var(--accent-red);box-shadow:0 0 4px var(--accent-red)}.main-panel .indicator.active.water .indicator-dot{background:var(--accent-blue);box-shadow:0 0 4px var(--accent-blue)}.main-panel .indicator-label{font-size:.6rem;color:var(--text-secondary);white-space:nowrap}.main-panel .indicator.active .indicator-label{color:var(--text-primary)}.main-panel .visual-row{display:flex;justify-content:center;align-items:center;gap:1rem;padding:.5rem;background:var(--bg-primary);border-radius:6px}.main-panel .plate-icon-compact{font-size:1.5rem;transition:all .3s ease}.main-panel .plate-icon-compact.cooling{filter:drop-shadow(0 0 6px var(--accent-cyan))}.main-panel .plate-icon-compact.heating{filter:drop-shadow(0 0 6px var(--accent-red))}.main-panel .flow-arrow{font-size:1.2rem;color:var(--text-muted);transition:all .3s ease}.main-panel .flow-arrow.active{color:var(--accent-blue);animation:flow-bounce 1s ease-in-out infinite}.main-panel .bin-icon-compact{font-size:1.5rem}.main-panel .loading{padding:2rem;text-align:center;color:var(--text-muted)}.settings-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;opacity:0;visibility:hidden;transition:all .3s ease;z-index:100}.settings-backdrop.open{opacity:1;visibility:visible}.settings-panel{position:fixed;top:0;right:0;bottom:0;width:350px;max-width:90vw;background:var(--bg-secondary);border-left:1px solid var(--border-color);transform:translate(100%);transition:transform .3s ease;z-index:101;display:flex;flex-direction:column;overflow:hidden}.settings-panel.open{transform:translate(0)}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color)}.settings-header h2{font-size:1.1rem;font-weight:600;margin:0}.close-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);font-size:1.25rem;cursor:pointer;transition:all .2s}.close-btn:hover{background:var(--bg-primary);color:var(--text-primary)}.settings-content{flex:1;overflow-y:auto;padding:1rem}.settings-section{margin-bottom:1.5rem}.settings-section h3{font-size:.9rem;font-weight:600;margin-bottom:.75rem;color:var(--text-primary)}.settings-error{display:flex;justify-content:space-between;align-items:center;padding:.5rem .75rem;margin-bottom:.75rem;background:#ef44441a;border:1px solid var(--accent-red);border-radius:6px;color:var(--accent-red);font-size:.8rem}.settings-error button{background:transparent;border:none;color:var(--accent-red);font-size:1.1rem;cursor:pointer;padding:0;line-height:1}.settings-section .control-buttons{display:flex;flex-direction:column;gap:.5rem}.btn-block{width:100%}.btn-success{background:var(--accent-green);color:#fff}.btn-success:hover:not(:disabled){background:#059669}.btn-warning{background:var(--accent-yellow);color:#000}.btn-warning:hover:not(:disabled){background:#d97706}.control-hint{margin-top:.75rem;padding:.75rem;background:var(--bg-primary);border-radius:6px;font-size:.8rem;color:var(--text-secondary)}@media (max-width: 900px){.dashboard-grid{grid-template-columns:1fr;grid-template-rows:auto auto;height:auto}.dashboard-grid>.main-panel{grid-column:1;grid-row:1}.dashboard-grid>.chart-card{grid-column:1;grid-row:2;min-height:350px}}@media (max-width: 768px){.dashboard-header h1{font-size:1.1rem}.settings-panel{width:100%}.main-panel .component-grid{grid-template-columns:repeat(2,1fr)}}
